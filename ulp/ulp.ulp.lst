ESP32ULP GAS  ulp.ulp.pS 			page 1


   1              	       
   2              	       
   3              	       
   4              	    .bss
   5              	    .global ctr
   6              	ctr:
   7 0000 00000000 	    .long 0
   8              	    .text
   9              	    .global entry
  10              	entry:
  11 0000 03008072 	    move r3, ctr
  12 0004 0901B82E 	    REG_RD ((((0x3ff48400 + 0x24)) - 0x3ff48000) / 4), ((14) + (16) - 1), (14)
  13 0008 00804072 	    and r0, r0, 2048
  14 000c 01001482 	    jumpr press, 1, LT
  15 0010 0C0000D0 	    ld r0, r3, 0
  16 0014 01000A82 	    jumpr nopress, 1, LT
  17 0018 06C28313 	    REG_WR ((((0x3ff48800 + 0x0018)) - 0x3ff48000) / 4), ((0) + (8) - 1), (0), ((0xF0) & 0xff)
  18 001c 0626A117 	    REG_WR ((((0x3ff48800 + 0x0018)) - 0x3ff48000) / 4), ((8) + (8) - 1), (8), ((0x49) & 0xff)
  19 0020 060AC01B 	    REG_WR ((((0x3ff48800 + 0x0018)) - 0x3ff48000) / 4), ((16) + (8) - 1), (16), ((0x02) & 0xff)
  20 0024 0602E01F 	    REG_WR ((((0x3ff48800 + 0x0018)) - 0x3ff48000) / 4), ((24) + (8) - 1), (24), ((0) & 0xff)
  21              	nopress:
  22 0028 00008072 	    move r0, 0
  23 002c 0C000068 	    st r0, r3, 0
  24 0030 000000B0 	    halt
  25              	press:
  26 0034 0C0000D0 	    ld r0, r3, 0
  27 0038 01000B82 	    jumpr fast, 1, GE
  28 003c 06628213 	    REG_WR ((((0x3ff48800 + 0x0018)) - 0x3ff48000) / 4), ((0) + (8) - 1), (0), ((0x98) & 0xff)
  29 0040 06EAA017 	    REG_WR ((((0x3ff48800 + 0x0018)) - 0x3ff48000) / 4), ((8) + (8) - 1), (8), ((0x3A) & 0xff)
  30 0044 0602C01B 	    REG_WR ((((0x3ff48800 + 0x0018)) - 0x3ff48000) / 4), ((16) + (8) - 1), (16), ((0) & 0xff)
  31 0048 0602E01F 	    REG_WR ((((0x3ff48800 + 0x0018)) - 0x3ff48000) / 4), ((24) + (8) - 1), (24), ((0) & 0xff)
  32              	fast:
  33 004c 10000072 	    add r0, r0, 1
  34 0050 14000782 	    jumpr btnheld, 20, GE
  35 0054 0C000068 	    st r0, r3, 0
  36 0058 000000B0 	    halt
  37              	btnheld:
  38 005c 0405781F 	    ; REG_WR ((((0x3ff48400 + 0x10)) - 0x3ff48000) / 4), ((14 + 16) + (1) - 1), (14 + 16), ((1) & 0
  39 0060 0105781F 	    ; REG_WR ((((0x3ff48400 + 0x4)) - 0x3ff48000) / 4), ((14 + 16) + (1) - 1), (14 + 16), ((1) & 0x
  40 0064 401F0040 	    ; wait 8000
  41 0068 1C000050 	    adc r0, 0, 7
  42 006c 0C000068 	    st r0, r3, 0
  43 0070 0D070882 	    jumpr lowbat, 1805, LT
  44              	trywake:
  45 0074 3000CC29 	    REG_RD ((((0x3ff48000 + 0xc0)) - 0x3ff48000) / 4), ((19) + ((((((((0x1) >> (0)) & 1) + (((0x1) 
  46 0078 01000090 	    wake
  47 007c 01000483 	    jumpr trywake, 1, LT
  48              	lowbat:
  49 0080 1D01AC15 	    REG_WR ((((0x3ff48400 + 0x74)) - 0x3ff48000) / 4), ((0 + 11) + (1) - 1), (0 + 11), ((0) & 0xff)
  50 0084 0600601C 	    REG_WR ((((0x3ff48000 + 0x18)) - 0x3ff48000) / 4), ((24) + (((((((0x1) >> (0)) & 1) + (((0x1) >
  51 0088 000000B0 	    halt
